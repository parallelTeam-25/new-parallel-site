name: Deploy to Hostinger

on:
  push:
    branches: [ main ]
  workflow_dispatch:

jobs:
  deploy:
    runs-on: ubuntu-latest
    timeout-minutes: 10
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
    
    - name: Test FTP with curl
      run: |
        echo "Testing FTP connection with curl..."
        curl -v --ftp-pasv ftp://u399412635.parallel-ai.it:y*xr=lgC!LM*J9n@195.35.27.36/ || echo "Curl failed"
    
    - name: Try different FTP approach
      uses: sebastianpopp/ftp-action@releases/v2
      with:
        host: 195.35.27.36
        user: u399412635.parallel-ai.it
        password: y*xr=lgC!LM*J9n
        localDir: "./"
        remoteDir: "./"
        options: "--ignore-host-key"